var QA;(function(n){var t=[],i=[];n.head={loadScript:function(n,r){if($.inArray(n,t)!=-1){console.log("skip "+n+"with url "+r);return}$.inArray(n,i)==-1;console.log("loading "+n+"with url "+r);$.ajax({url:r,dataType:"script",async:!1,cache:!0}).done(function(){console.log("done "+n+" "+r);t.push(n)}).fail(function(){console.log("fail "+n+" "+r)})},loadCSS:function(n,i){var r,u;$.inArray(n,t)==-1&&(r=document.createElement("link"),r.setAttribute("href",i),u=document.getElementsByTagName("head")[0],u.appendChild(r),t.push(n))}}})(window),function(n,t,i){typeof module!="undefined"?module.exports=i(n,t):typeof define=="function"&&typeof define.amd=="object"?define(i):t[n]=i(n,t)}("radio",this,function(n,t){function i(n){return i.$.channel(n),i.$}return i.$={version:"0.2",channelName:"",channels:[],broadcast:function(){for(var r=this.channels[this.channelName],e=r.length,n,u,f,i=0;i<e;i++)n=r[i],typeof n=="object"&&n.length&&(u=n[0],f=n[1]||t),u.apply(f,arguments);return this},channel:function(n){var t=this.channels;return t[n]||(t[n]=[]),this.channelName=n,this},subscribe:function(){for(var r=arguments,u=this.channels[this.channelName],f=r.length,t,i=[],n=0;n<f;n++)i=r[n],t=typeof i=="function"?[i]:i,typeof t=="object"&&t.length&&u.push(t);return this},unsubscribe:function(){for(var f=arguments,t,i=this.channels[this.channelName],o=f.length,e=i.length,r=0,u,n=0;n<o;n++)for(r=0,e=i.length,t=0;t<e;t++)u=t-r,i[u][0]===f[n]&&(i.splice(u,1),r++);return this}},i});QA=QA||{};QA.Widgets=QA.Widgets||{};QA.Widgets.Runtime=QA.Widgets.Runtime||function(n){var r=function(t,i,r,u){return n.ajax({url:t,data:JSON.stringify(i),dataType:"json",type:"post",contentType:"application/json; charset=UTF-8",processData:!1,success:function(n){n!=null&&(n.IsSucceeded!=!0&&console.error("data is not succeeded"),typeof r=="function"&&r(n.View))},error:function(n){console.log("error in ajaxView");typeof u=="function"?u({status:n.status,xhr:n}):console.error(n)}})},u=function(n){n.html("<div style='position: relative;'>              <div class='b-loader'>               <div class='load-overlay'>&nbsp;<\/div>               <div class='load'>&nbsp;<\/div>              <\/div>             <\/div>")},t=function(){},i;return t.prototype={type:"",hostUID:"",useAPI:!0,containerId:null,params:null,getUID:function(){function n(){return((1+Math.random())*65536|0).toString(16).substring(1)}return(n()+n()+"-"+n()+"-4"+n().substr(0,3)+"-"+n()+"-"+n()+n()+n()).toLowerCase()}},t.RenderingTypes={InlineHtml:1,AjaxJs:2,InlineJs:3,Iframe:4},i=function(i){var f;if(i.type)switch(i.type){case t.RenderingTypes.AjaxJs:f=i.params.src;u(n(i.params.containerId));r(f,{},function(t){console.log("done");n(i.params.containerId).html(t)},function(){console.log("failed initialize async container")});break;case t.RenderingTypes.InlineJs:f=i.params.src+"/inlinejs";document.write("<script type='text/javascript' src='"+f+"' ><\/script>")}},{ContainerRenderingParameter:t,initializeIFrame:function(n,r,u){var f=new t;f.hostUID=f.getUID();f.useAPI=r;f.type=t.RenderingTypes.Iframe;f.params={src:n,containerId:u};i(f)},initializeAsync:function(n,r){var u=new t;u.hostUID=u.getUID();u.type=t.RenderingTypes.AjaxJs;u.params={src:n,containerId:"#"+r};i(u)},initializeSync:function(n){var r=new t;r.hostUID=r.getUID();r.type=t.RenderingTypes.InlineJs;r.params={src:n};i(r)}}}(jQuery);QA=QA||{};QA.Widgets=QA.Widgets||{};QA.Widgets.Broker=QA.Widgets.Broker||function(n,t){var i=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},r=function(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()};this.brokerId=r();var u=function(t,i,r){r?n(t).subscribe([i,r]):n(t).subscribe(i)},f=function(t,i){n(t).unsubscribe(i)},e=function(i){var r,u,f;i.source&&brokerId==i.source||(r=i.source||brokerId,n(i.eventName).broadcast.apply(n(i.eventName),Array.prototype.slice.call(arguments,1)),u=[],u.push({eventName:i.eventName,source:r}),f=Array.prototype.slice.call(arguments,1),f&&u.push(f),window.parent!==window.window&&t&&t.call({destination:window.parent,publicProcedureName:"qaWidgetsPmrpcEventReceiver",params:[{eventName:i.eventName,source:r}]}),window.frames&&window.frames.length!=0&&t&&t.call({destination:window.frames,publicProcedureName:"qaWidgetsPmrpcEventReceiver",params:[{eventName:i.eventName,source:r}]}))};return{subscribe:u,unsubscribe:f,publish:e}}(radio,window.pmrpc);window.pmrpc&&function(n){var t=function(n){console.log("pmrpc caught event",n,"brokerId: ",brokerId);QA.Widgets.Broker.publish(n[0],Array.prototype.slice.call(arguments,1))};n.register({publicProcedureName:"qaWidgetsPmrpcEventReceiver",procedure:t})}(pmrpc)