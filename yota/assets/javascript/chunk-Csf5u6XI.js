import {I,aP as R,C as p,n as ci,a as O,O as O$1,E,a0 as st,a2 as w$1,o as Vu,al as kR,l as lO,cx as Xc,cy as qw,D as Dh,dM as jo,bg as Hn,dN as Wy,dO as Sm,dP as Dm,$ as zt,dQ as Cm,aL as cn,dR as qy,_ as _I,bi as Uo,b as kp,c as kI,P as Pp,Q as QR,e as iE,b1 as i$1,aO as K,d3 as n$1,ad as EO,v as RE,R as RO,w as wO,y as sE,bk as zI,V as VE,H as Hp,g as DE,L as Lp,f as jp,bn as LO,c3 as j,dS as He$1,d4 as xe$1,dT as Ae,c4 as ze,af as AR,ag as RR,h as WR}from'./main-GV3FATOT.js';var ce=(()=>{class n extends i$1{constructor(e,t,i,r,A,_e){super(),this._dataStateService=e,this._supportApiService=t,this._feedbackService=i,this._searchService=r,this._regionService=A,this._request=_e;}getSection$(e){let t=this._regionService.getRegionCode();return this._dataStateService.setEndGet$(`section-${t}-${e.sectionId}`,this._supportApiService.getSection(e),{})}getSubsection$(e){return this._supportApiService.getSubsection(e)}setFeedback$(e){return this._feedbackService.setFeedback(e)}search$(e){return this._searchService.searchSupport(e)}getPopulars$(e){let t=this._regionService.getRegionCode();return this._dataStateService.setEndGet$(`popular-section-${t}-${e.sectionId}`,this._supportApiService.getSectionPopular(e),{})}static{this.\u0275fac=function(t){return new(t||n)(K(j),K(He$1),K(xe$1),K(Ae),K(ze),K(n$1,8))};}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var le=(()=>{class n{constructor(){this._supportApiService=I(ce);}getSection(e){return this._supportApiService.getSection$({sectionId:e})}getSubsection(e,t){return this._supportApiService.getSubsection$({sectionId:e,folderId:t})}setFeedback(e){return this._supportApiService.setFeedback$(e)}search(e){return this._supportApiService.search$(e)}getPopulars(e){return this._supportApiService.getPopulars$({sectionId:e})}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var ue=()=>[];function pe(n,u){n&1&&(kp(0,"div",16),RO(1," \u041E\u0442\u0432\u0435\u0442 \u0431\u044B\u043B \u043F\u043E\u043B\u0435\u0437\u0435\u043D? "),Pp());}function de(n,u){if(n&1){let e=EO();Lp(0),kI(1,pe,2,0,"div",13),kp(2,"div",14)(3,"button",15),RE("click",function(){AR(e);let i=wO(2).$implicit,r=wO();return RR(r.sendFeedback(i,1))}),RO(4," \u0414\u0430 "),Pp(),kp(5,"button",15),RE("click",function(){AR(e);let i=wO(2).$implicit,r=wO();return RR(r.sendFeedback(i,0))}),RO(6," \u041D\u0435\u0442 "),Pp()(),jp();}n&2&&(QR(),iE("ngSwitchCase",null));}function me(n,u){n&1&&(kp(0,"div",16),RO(1," \u0421\u043F\u0430\u0441\u0438\u0431\u043E! \u0422\u0432\u043E\u0438 \u043E\u0442\u0437\u044B\u0432\u044B \u043F\u043E\u043C\u043E\u0433\u0430\u044E\u0442 \u043D\u0430\u043C \u043F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u043E \u0443\u043B\u0443\u0447\u0448\u0430\u0442\u044C \u043D\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 "),Pp());}function ge(n,u){n&1&&(Lp(0),kI(1,me,2,0,"div",13),jp()),n&2&&(QR(),iE("ngSwitchCase",1));}function he(n,u){if(n&1){let e=EO();kp(0,"ul",18)(1,"p"),RO(2,"\u0421\u043F\u0430\u0441\u0438\u0431\u043E! \u0423\u043A\u0430\u0436\u0438, \u0447\u0442\u043E \u043F\u043E\u043C\u0435\u0448\u0430\u043B\u043E \u0440\u0435\u0448\u0438\u0442\u044C \u0442\u0432\u043E\u0439 \u0432\u043E\u043F\u0440\u043E\u0441:"),Pp(),kp(3,"li",19),RE("click",function(){AR(e);let i=wO(3).$implicit,r=wO();return RR(r.sendFeedback(i,0,r.notHelpfulText))}),RO(4),Pp(),kp(5,"li",19),RE("click",function(){AR(e);let i=wO(3).$implicit,r=wO();return RR(r.sendFeedback(i,0,r.noAnswerText))}),RO(6),Pp(),kp(7,"li",20),RO(8," \u0415\u0441\u043B\u0438 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u043D\u0435 \u0440\u0435\u0448\u0435\u043D\u0430 \u043E\u0431\u0440\u0430\u0442\u0438\u0441\u044C \u0437\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u043E\u0439 \u0432 "),kp(9,"a",21),RO(10," \u0447\u0430\u0442 "),Pp()()();}if(n&2){let e=wO(4);QR(4),Hp(" ",e.notHelpfulText," "),QR(2),Hp(" ",e.noAnswerText," "),QR(3),iE("routerLink",LO(3,ue));}}function xe(n,u){n&1&&(Lp(0),kI(1,he,11,4,"ul",17),jp()),n&2&&(QR(),iE("ngSwitchCase",0));}function Ce(n,u){if(n&1&&(kp(0,"div",9),DE(1,"div",10),Pp(),kp(2,"div",11),kI(3,de,7,1,"ng-container",12)(4,ge,2,1,"ng-container",12)(5,xe,2,1,"ng-container",12),Pp()),n&2){let e=wO().$implicit;QR(),iE("innerHTML",e.answer,WR),QR(),iE("ngSwitch",e.feedbackStatus),QR(),iE("ngSwitchCase",null),QR(),iE("ngSwitchCase",1),QR(),iE("ngSwitchCase",0);}}function fe(n,u){if(n&1){let e=EO();kp(0,"y-expansion-panel",4)(1,"y-expansion-panel-header",5),RE("click",function(){let i=AR(e).$implicit,r=wO();return RR(r.toggle(i))}),kp(2,"y-panel-title")(3,"h3",6),RO(4),Pp()(),kp(5,"y-icon",7),RO(6),Pp()(),kI(7,Ce,6,5,"ng-template",8),Pp();}if(n&2){let e=u.$implicit,t=wO();iE("expanded",e.expanded),QR(),sE("underlined",t.isSubsection),zI("data-hash",t.selectedItemId===e.id&&t.questionId?t.questionId+"/"+t.selectedItemId:null),QR(3),VE(e.title),QR(2),Hp(" ",e.expanded?"minus":"plus"," ");}}var He=(()=>{class n extends p{constructor(){super(...arguments),this.selectedItemId=null,this.questionId=null,this.isSubsection=false,this.isSupportChild=false,this.articles=[],this._ids=[],this._supportService=I(le),this._cdr=I(ci),this._analyticsService=I(O),this.analyticsActions=O$1,this.analyticsEvents=E,this.noAnswerText="\u041D\u0435\u0442 \u043E\u0442\u0432\u0435\u0442\u0430 \u043D\u0430 \u0432\u043E\u043F\u0440\u043E\u0441",this.notHelpfulText="\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438 \u043D\u0435 \u043F\u043E\u043C\u043E\u0433\u043B\u0438",this.changeArticleId=new st,this.itemToggled=new st;}set items(e){let t=e.map(i=>w$1({expanded:false,feedbackStatus:null},i));this.articles=t;}onChangeArticleId(e){this.changeArticleId.emit(e);}ngOnChanges(e){if(e.selectedItemId){let t=this.articles.find(i=>i.id===this.selectedItemId);t&&(t.id&&this._ids.push(t.id),t.expanded=true);}}ngOnInit(){this.articles.map(e=>e.expanded=e.id===this.selectedItemId);}toggle(e){let t=this.questionTitle?`${this.questionTitle} / ${e.title}`:`${e.title}`;if(!e.expanded)this.onChangeArticleId(e.id),e.id&&this._ids.push(e.id),this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:t},O$1.SUPPORT_OPEN_ACCORDION);else {this._ids=this._ids.filter(r=>r!==e.id);let i=this._ids.length?this._ids[this._ids.length-1]:null;this.onChangeArticleId(i),this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:t},O$1.SUPPORT_CLOSE_ACCORDION);}e.expanded=!e.expanded,this.itemToggled.next(),this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:t,event_name:e.expanded?"openAccordion":"closeAccordion"},O$1.SUPPORT_TOGGLE_ACCORDION);}sendFeedback(e,t,i){e.id&&(i?this._supportService.setFeedback({articleId:e.id,isUseful:0,answer:i}).pipe(Vu(this._onDestroy$)).subscribe(r=>{e.feedbackStatus=1,this._cdr.markForCheck();}):this._supportService.setFeedback({articleId:e.id,isUseful:t}).pipe(Vu(this._onDestroy$)).subscribe(r=>{e.feedbackStatus=t,this._cdr.markForCheck();let A=this.questionTitle?`${this.questionTitle} / ${e.title}`:`${e.title}`;this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:`${A} / ${t===0?"\u041D\u0435\u0442":"\u0414\u0430"}`},O$1.CLICK_SUPPORT_FEEDBACK);}));}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=kR(n)))(i||n)}})();}static{this.\u0275cmp=lO({type:n,selectors:[["yota-article-answers"]],inputs:{selectedItemId:"selectedItemId",questionTitle:"questionTitle",questionId:"questionId",isSubsection:"isSubsection",items:"items",isSupportChild:"isSupportChild"},outputs:{changeArticleId:"changeArticleId",itemToggled:"itemToggled"},features:[_I,Uo],decls:4,vars:3,consts:[[1,"article-answers"],[1,"article-answers__wrapper"],[1,"article-answers__accordion",3,"multi","hideToggle"],["class","article-answers__accordion-panel",3,"expanded",4,"ngFor","ngForOf"],[1,"article-answers__accordion-panel",3,"expanded"],[1,"article-answers__accordion-header",3,"click"],[1,"g-title"],[1,"article-answers__accordion-header_icon"],["yExpansionPanelContent",""],[1,"article-answers__accordion-content"],[1,"article-answers__accordion-answer",3,"innerHTML"],[1,"article-answers__feedback","g-title",3,"ngSwitch"],[4,"ngSwitchCase"],["class","article-answers__feedback-message",4,"ngSwitchCase"],[1,"article-answers__feedback-btns"],["y-button","",1,"article-answers__feedback-btn",3,"click"],[1,"article-answers__feedback-message"],["class","article-answers__feedback-negative",4,"ngSwitchCase"],[1,"article-answers__feedback-negative"],[1,"article-answers__feedback-negative-item","y-link-pseudo","g-text_tight",3,"click"],[1,"article-answers__feedback-negative-item","g-text_tight"],["fragment","chat",1,"g-gradient-link",3,"routerLink"]],template:function(t,i){t&1&&(kp(0,"div",0)(1,"div",1)(2,"y-accordion",2),kI(3,fe,8,6,"y-expansion-panel",3),Pp()()()),t&2&&(QR(2),iE("multi",true)("hideToggle",true),QR(),iE("ngForOf",i.articles));},dependencies:[Xc,qw,Dh,jo,Hn,Wy,Sm,Dm,zt,Cm,cn,qy],styles:["[_nghost-%COMP%]   .article-answers[_ngcontent-%COMP%]   .y-expansion-panel-header[_ngcontent-%COMP%]{padding:25px 24px}[_nghost-%COMP%]   .article-answers[_ngcontent-%COMP%]   .y-accordion[_ngcontent-%COMP%]   .y-expansion-panel[_ngcontent-%COMP%]{border-radius:20px}[_nghost-%COMP%]   .article-answers[_ngcontent-%COMP%]     .y-expansion-panel-body{padding:0 24px 24px}[_nghost-%COMP%]   .article-answers__accordion-panel[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]   .article-answers__accordion-panel[_ngcontent-%COMP%]:not(:last-child){margin-bottom:16px}[_nghost-%COMP%]   .article-answers__accordion-header[_ngcontent-%COMP%]     .y-content{align-items:center}[_nghost-%COMP%]   .article-answers__accordion-header_icon[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#00aeef}[_nghost-%COMP%]   .article-answers__accordion-header.underlined[_ngcontent-%COMP%]{border-bottom:1px solid rgba(171,186,200,.3019607843);border-radius:0}[_nghost-%COMP%]   .article-answers__accordion-content[_ngcontent-%COMP%]{padding-block:32px;border-top:1px solid rgba(171,186,200,.3);border-bottom:1px solid rgba(171,186,200,.3)}[_nghost-%COMP%]   .article-answers__feedback[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px;margin-top:32px}[_nghost-%COMP%]   .article-answers__feedback-btns[_ngcontent-%COMP%]{display:flex;gap:12px}[_nghost-%COMP%]   .article-answers__feedback-btn[_ngcontent-%COMP%]{padding-inline:32px;text-transform:none;min-height:40px}[_nghost-%COMP%]   .article-answers__feedback-negative[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   .article-answers__feedback-negative-item[_ngcontent-%COMP%]{width:fit-content}[_nghost-%COMP%]   .article-answers__feedback-negative-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:16px}@media (max-width: 992px){[_nghost-%COMP%]   .article-answers__feedback[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-top:24px;gap:24px}}"],changeDetection:0});}}return n})();export{He as H,le as l};