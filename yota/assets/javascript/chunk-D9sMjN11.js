import {bO as Qu,aO as K,aP as R,b1 as i$1,b2 as le,a1 as x,a2 as w$1,ds as n$1,c3 as j,dZ as $e,c4 as ze,q as U,F,aI as q}from'./main-4LN5YMRF.js';var A={order:"asc",limit:9,offset:0},$=(()=>{class i extends i$1{constructor(e,t,o,r){super(),this._dataStateService=e,this._storeApiService=t,this._regionService=o,this._request=r;}getCategories$(){let e=this._regionService.getRegionCode();return this._dataStateService.setEndGet$(`good-categories-${e}`,this._storeApiService.getCategories().pipe(le(t=>t||[])),[])}getGoods$(e){let t=this._regionService.getRegionCode(),o=btoa(JSON.stringify(e)),r={categoryIds:e.categoryIds||[],excludedIds:e.excludedIds||[],includedIds:e.includedIds||[],promoIds:[]};return this._dataStateService.setEndGet$(`goods-${t}-${o}`,this._storeApiService.getGoods(x(w$1({},e),{body:r})),{})}getPromoGoods$(e){let t=this._regionService.getRegionCode(),o=x(w$1({},A),{promoIds:[e]});return this._dataStateService.setEndGet$(`promo-goods-${t}`,this._storeApiService.getGoods(o),{})}getGood$(e,t){let o=this._regionService.getRegionCode(),r={commerceType:e,goodName:t},l=btoa(JSON.stringify(r));return this._dataStateService.setEndGet$(`good-${o}-${l}`,this._storeApiService.getGood(r),null)}getRelatedGoods$(e){let t=this._regionService.getRegionCode(),o=btoa(JSON.stringify(e));return this._dataStateService.setEndGet$(`goods-${t}-${o}`,this._storeApiService.getRelatedGood$Json(e),{})}getPromoByNomenclature$(e,t){let o=this._regionService.getRegionCode();return this._dataStateService.setEndGet$(`nomenclature-promos-${o}-${e}`,this._storeApiService.getPromoByNomenclatures({nomenclatureid:e,url:t}).pipe(le(r=>r.promoDeals)),[])}static{this.\u0275fac=function(t){return new(t||i)(K(j),K($e),K(ze),K(n$1,8))};}static{this.\u0275prov=R({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();var G=function(i){return i.ASC="asc",i.DESC="desc",i}(G||{}),b="767px",D=(()=>{class i{constructor(e,t,o,r){this._storeApiService=e,this._breakpointObserver=t,this._route=o,this._router=r,this.isMobile=this._breakpointObserver.isMatched(`(max-width: ${b})`).valueOf(),this.queryParams$=this._route.queryParams,this._categories$=null;}fetchCategories$(){return this._categories$||(this._categories$=this._storeApiService.getCategories$().pipe(Qu(1))),this._categories$}fetchGoods$(e){return this._storeApiService.getGoods$(e)}applyQuery(e){this._router.navigate([],{queryParams:e,queryParamsHandling:"merge"});}static{this.\u0275fac=function(t){return new(t||i)(K($),K(U),K(F),K(q))};}static{this.\u0275prov=R({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();export{$,D,G};