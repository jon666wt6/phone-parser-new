import {s as Et,bz as ye,aO as K,aP as R,a0 as st,az as X,o as Vu,k,av as Ke,l as lO,a9 as zw,W as Ww,aJ as Yw,$ as zt,b as kp,v as RE,c as kI,P as Pp,aq as hO,e as iE,dq as BO,Q as QR,z as Fc,w as wO,g as DE,b0 as wE,h as WR,dr as Mo,ds as ii,dt as Gn,du as Ce,aj as cr}from'./main-GV3FATOT.js';var Z=(n,m,t)=>[n,m,t];function q(n,m){if(n&1&&DE(0,"y-icon",6),n&2){let t=wO(2);iE("svgIcon",t.svgIcon);}}function L(n,m){if(n&1&&wE(0,7),n&2){let t=wO(2);iE("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.templateContext);}}function G(n,m){if(n&1&&DE(0,"span",8),n&2){let t=wO(2);iE("innerHtml",t.text,WR);}}function J(n,m){if(n&1&&(kp(0,"div",2),kI(1,q,1,1,"y-icon",3)(2,L,1,2,"ng-container",4)(3,G,1,1,"span",5),Pp()),n&2){let t=wO();iE("ngClass","popup__content-"+t.theme),QR(),iE("ngIf",t.svgIcon),QR(),iE("ngIf",t.template),QR(),iE("ngIf",t.text&&!t.template);}}var N=(()=>{class n{get getHostTransition(){let t="linear";return this.animation==="cubic"&&(t=this.cubicBezierFunctionIn),`all ${t} ${this.animationDuration}ms`}get getZIndex(){return this.zIndex?.toString()||"1"}get getCursor(){return this.closeByMouseUp?"pointer":"default"}constructor(t){this.elementRef=t,this.templateContext={},this.theme="default",this.animation="cubic",this.animationDuration=900,this.animationHideDuration=900,this.timeout=3e3,this.parentSelector=null,this.closeByMouseUp=true,this.remove=new st,this.distanceToPageTop=0,this.cubicBezierFunctionIn="cubic-bezier(0, 1.82, 0.46, 0.84)",this.cubicBezierFunctionOut="cubic-bezier(0.42, -0.65, 0.27, 0.93)",this._close$=new X;}ngOnInit(){this.timeout&&ye(this.timeout).pipe(Vu(this._close$)).subscribe(()=>{this._startHideAnimation();});}ngOnDestroy(){this._close$.complete();}onMouseUp(){this.closeByMouseUp&&this.close();}close(){this.zIndex=999,this._close$.next(),this._startHideAnimation();}updateDistanceTop(){this.distanceToPageTop=this._getDistanceFromBottomToPageTop(this.elementRef.nativeElement);}_startHideAnimation(){this.updateDistanceTop(),this.hideAnimation=`${this.animation}-out`,this.remove.emit();}_getDistanceFromBottomToPageTop(t){return t.getBoundingClientRect().bottom}static{this.\u0275fac=function(i){return new(i||n)(k(Ke))};}static{this.\u0275cmp=lO({type:n,selectors:[["yota-popup"]],hostVars:6,hostBindings:function(i,e){i&2&&Fc("transition",e.getHostTransition)("z-index",e.getZIndex)("cursor",e.getCursor);},inputs:{text:"text",svgIcon:"svgIcon",template:"template",templateContext:"templateContext",theme:"theme",animation:"animation",animationDuration:"animationDuration",animationHideDuration:"animationHideDuration",timeout:"timeout",parentSelector:"parentSelector",closeByMouseUp:"closeByMouseUp",customClass:"customClass",customWrapperClass:"customWrapperClass",zIndex:"zIndex"},outputs:{remove:"remove"},decls:2,vars:8,consts:[[1,"popup",3,"mouseup","ngClass"],["class","popup__content",3,"ngClass",4,"ngIf"],[1,"popup__content",3,"ngClass"],["class","popup__content-icon",3,"svgIcon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"innerHtml",4,"ngIf"],[1,"popup__content-icon",3,"svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"]],template:function(i,e){i&1&&(kp(0,"div",0),RE("mouseup",function(){return e.onMouseUp()}),kI(1,J,4,4,"div",1),Pp()),i&2&&(hO("--animationDuration:"+e.animationDuration+"ms;--cubicFunctionIn:"+e.cubicBezierFunctionIn+";--cubicFunctionOut:"+e.cubicBezierFunctionOut+";--distanceToPageTop:"+e.distanceToPageTop+"px;"),iE("ngClass",BO(4,Z,e.animation,e.hideAnimation?e.hideAnimation:"",e.customClass?e.customClass:"")),QR(),iE("ngIf",e.text||e.template));},dependencies:[zw,Ww,Yw,zt],styles:["[_nghost-%COMP%]{display:flex;width:fit-content;max-width:540px;position:absolute;top:0;left:0;right:0;margin-inline:auto;justify-content:center;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}@media (max-width: 767px){[_nghost-%COMP%]{margin-inline:16px;width:auto;max-width:initial}}[_nghost-%COMP%]     .popup__content-warning .y-icon svg path{fill:#00aeef}[_nghost-%COMP%]     .popup__content-error .y-icon svg path{fill:#f65252}[_nghost-%COMP%]     .popup__content-light .y-icon svg path{fill:#00aeef}.popup[_ngcontent-%COMP%]{width:auto;max-width:fit-content}.popup__content[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:8px;padding:12px 16px;border-radius:16px;background:#fff;box-shadow:0 4px 12px #04040414;width:fit-content;font-size:16px;line-height:30px;font-weight:400}.popup__content-icon[_ngcontent-%COMP%]{width:24px;height:24px;min-width:24px;min-height:24px}.popup__content-warning[_ngcontent-%COMP%], .popup__content-error[_ngcontent-%COMP%]{background:#fff3d1;box-shadow:0 4px 12px #8f701614}.popup__content-success[_ngcontent-%COMP%]{background:#e9f1df;box-shadow:0 4px 12px #4a862e14}.popup__content-light[_ngcontent-%COMP%]{background:#edf9ff;box-shadow:0 8px 28px #00000014}@media (max-width: 992px){.popup__content[_ngcontent-%COMP%]{color:#434c5d;background:#fff;box-shadow:0 4px 12px #04040414;font-size:14px;line-height:18px;font-weight:500}.popup__content-light[_ngcontent-%COMP%]{background:#edf9ff;box-shadow:0 8px 28px #00000014}}@media (max-width: 480px){.popup[_ngcontent-%COMP%]{width:100%;max-width:initial}.popup__content[_ngcontent-%COMP%]{width:100%}}.slide[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromRight var(--animationDuration) forwards ease-in}.slide-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideOutToRight var(--animationDuration) forwards ease-out}.cubic[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromTop var(--animationDuration) forwards var(--cubicFunctionIn)}.cubic-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideOutToTop var(--animationDuration) forwards var(--cubicFunctionOut)}.fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn var(--animationDuration) forwards linear}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut var(--animationDuration) forwards linear}@keyframes _ngcontent-%COMP%_slideInFromTop{0%{transform:translateY(calc(-200% - var(--distanceToPageTop)))}to{transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideOutToTop{0%{transform:translateY(0)}to{transform:translateY(calc(-200% - var(--distanceToPageTop)))}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(110%)}to{transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideOutToRight{0%{transform:translate(0)}to{transform:translate(110%)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0}}"]});}}return n})();var ct=(()=>{class n{constructor(t,i,e,o,p){this._componentFactoryResolver=i,this._appRef=e,this._injector=o,this._document=p,this._zIndexCounter=1e3,this._wrapper=null,this._popups=[],this._removingPopupIds=new Set,this._renderer=t.createRenderer(null,null);}openPopup(t){if(this._popups.length||(this._wrapper&&this._renderer.removeChild(this._document.body,this._wrapper),this._wrapper=null),!this._wrapper){this._wrapper=this._renderer.createElement("div"),this._renderer.addClass(this._wrapper,"popups-wrapper"),this._customWrapperClass=t.customWrapperClass,this._customWrapperClass&&this._renderer.addClass(this._wrapper,this._customWrapperClass);let a=this._document.body;if(t.parentSelector){let r=this._document.querySelector(t.parentSelector);r&&(a=r);}this._renderer.appendChild(a,this._wrapper);}let e=this._componentFactoryResolver.resolveComponentFactory(N).create(this._injector);e.instance.text=t.text,e.instance.svgIcon=t.svgIcon,e.instance.template=t.template,e.instance.customClass=t.customClass,e.instance.customWrapperClass=t.customWrapperClass,e.instance.zIndex=++this._zIndexCounter,e.instance.id=this._zIndexCounter,e.instance.theme=t.theme||e.instance.theme,e.instance.templateContext=t.templateContext||e.instance.templateContext,e.instance.animation=t.animation||e.instance.animation,e.instance.timeout=t.timeout===null?null:t.timeout||e.instance.timeout,e.instance.parentSelector=t.parentSelector||e.instance.parentSelector,e.instance.animationDuration=t.animationDuration||e.instance.animationDuration,e.instance.closeByMouseUp=t.closeByMouseUp===void 0?e.instance.closeByMouseUp:t.closeByMouseUp,e.instance.remove.pipe(Et(1)).subscribe(()=>{this.removePopup(e.instance);}),this._appRef.attachView(e.hostView);let o=e.hostView.rootNodes[0];this._renderer.appendChild(this._wrapper,o);let p=this._popups.filter(a=>!a.hideAnimation);return p.forEach((a,r)=>{let u=p.filter((P,f)=>f<r).reduce((P,f)=>P+f.elementRef.nativeElement.clientHeight,0);setTimeout(()=>{this._renderer.setStyle(a.elementRef.nativeElement,"transform",`translateY(calc(${u+e.instance.elementRef.nativeElement.clientHeight}px + ${12*(r+1)}px))`);},0),a.updateDistanceTop();}),this._popups.unshift(e.instance),e.instance}removePopup(t){let i=this._popups.findIndex(e=>e.id===t.id);i<0||(this._removingPopupIds.add(t.id),ye(t.animationDuration/4).pipe(Et(1)).subscribe(()=>{let e=this._popups.filter(o=>!this._removingPopupIds.has(o.id));for(let o=i;o<e.length;o++){let p=e[o],a=e.filter((r,u)=>u<o).reduce((r,u)=>r+u.elementRef.nativeElement.clientHeight,0);this._renderer.setStyle(p.elementRef.nativeElement,"transform",`translateY(calc(${a}px + ${12*o}px))`);}this._popups=this._popups.filter(o=>o.id!==t.id);}),ye(t.animationDuration).pipe(Et(1)).subscribe(()=>{this._renderer.removeChild(parent,t.elementRef.nativeElement),this._removingPopupIds.delete(t.id),!this._popups.length&&this._wrapper&&!this._removingPopupIds.size&&(this._renderer.removeChild(this._document.body,this._wrapper),this._wrapper=null);}));}clearAll(){this._wrapper&&this._renderer.removeChild(this._document.body,this._wrapper),this._popups.length=0;}static{this.\u0275fac=function(i){return new(i||n)(K(Mo),K(ii),K(Gn),K(Ce),K(cr))};}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();export{ct as c};