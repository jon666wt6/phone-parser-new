import {D,aP as R,G as p,u as ui,M,O,E,a0 as at,a2 as w$1,r as Hu,al as jR,h as hO,cx as tu,cy as Yw,I as Ih,d_ as jo,bg as Hn,d$ as Wy,e0 as Sm,e1 as Dm,_ as zt,e2 as Cm,aL as cn,e3 as qy,a as MI,bi as qo,P as Pp,L as LI,b as Lp,e as eO,c as aE,b1 as i$1,aO as K,ds as n$1,ad as _O,v as FE,m as PO,f as MO,y as cE,bk as qI,H as HE,$ as $p,l as EE,d as jp,V as Vp,bn as HO,c3 as j,e4 as xe$1,dt as Ie,e5 as ve,c4 as ze,af as FR,ag as kR,Y as YR}from'./main-4LN5YMRF.js';var ce=(()=>{class n extends i$1{constructor(e,t,i,r,A,_e){super(),this._dataStateService=e,this._supportApiService=t,this._feedbackService=i,this._searchService=r,this._regionService=A,this._request=_e;}getSection$(e){let t=this._regionService.getRegionCode();return this._dataStateService.setEndGet$(`section-${t}-${e.sectionId}`,this._supportApiService.getSection(e),{})}getSubsection$(e){return this._supportApiService.getSubsection(e)}setFeedback$(e){return this._feedbackService.setFeedback(e)}search$(e){return this._searchService.searchSupport(e)}getPopulars$(e){let t=this._regionService.getRegionCode();return this._dataStateService.setEndGet$(`popular-section-${t}-${e.sectionId}`,this._supportApiService.getSectionPopular(e),{})}static{this.\u0275fac=function(t){return new(t||n)(K(j),K(xe$1),K(Ie),K(ve),K(ze),K(n$1,8))};}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var le=(()=>{class n{constructor(){this._supportApiService=D(ce);}getSection(e){return this._supportApiService.getSection$({sectionId:e})}getSubsection(e,t){return this._supportApiService.getSubsection$({sectionId:e,folderId:t})}setFeedback(e){return this._supportApiService.setFeedback$(e)}search(e){return this._supportApiService.search$(e)}getPopulars(e){return this._supportApiService.getPopulars$({sectionId:e})}static{this.\u0275fac=function(t){return new(t||n)};}static{this.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"});}}return n})();var ue=()=>[];function pe(n,u){n&1&&(Pp(0,"div",16),PO(1," \u041E\u0442\u0432\u0435\u0442 \u0431\u044B\u043B \u043F\u043E\u043B\u0435\u0437\u0435\u043D? "),Lp());}function de(n,u){if(n&1){let e=_O();jp(0),LI(1,pe,2,0,"div",13),Pp(2,"div",14)(3,"button",15),FE("click",function(){FR(e);let i=MO(2).$implicit,r=MO();return kR(r.sendFeedback(i,1))}),PO(4," \u0414\u0430 "),Lp(),Pp(5,"button",15),FE("click",function(){FR(e);let i=MO(2).$implicit,r=MO();return kR(r.sendFeedback(i,0))}),PO(6," \u041D\u0435\u0442 "),Lp()(),Vp();}n&2&&(eO(),aE("ngSwitchCase",null));}function me(n,u){n&1&&(Pp(0,"div",16),PO(1," \u0421\u043F\u0430\u0441\u0438\u0431\u043E! \u0422\u0432\u043E\u0438 \u043E\u0442\u0437\u044B\u0432\u044B \u043F\u043E\u043C\u043E\u0433\u0430\u044E\u0442 \u043D\u0430\u043C \u043F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u043E \u0443\u043B\u0443\u0447\u0448\u0430\u0442\u044C \u043D\u0430\u0448 \u0441\u0435\u0440\u0432\u0438\u0441 "),Lp());}function ge(n,u){n&1&&(jp(0),LI(1,me,2,0,"div",13),Vp()),n&2&&(eO(),aE("ngSwitchCase",1));}function he(n,u){if(n&1){let e=_O();Pp(0,"ul",18)(1,"p"),PO(2,"\u0421\u043F\u0430\u0441\u0438\u0431\u043E! \u0423\u043A\u0430\u0436\u0438, \u0447\u0442\u043E \u043F\u043E\u043C\u0435\u0448\u0430\u043B\u043E \u0440\u0435\u0448\u0438\u0442\u044C \u0442\u0432\u043E\u0439 \u0432\u043E\u043F\u0440\u043E\u0441:"),Lp(),Pp(3,"li",19),FE("click",function(){FR(e);let i=MO(3).$implicit,r=MO();return kR(r.sendFeedback(i,0,r.notHelpfulText))}),PO(4),Lp(),Pp(5,"li",19),FE("click",function(){FR(e);let i=MO(3).$implicit,r=MO();return kR(r.sendFeedback(i,0,r.noAnswerText))}),PO(6),Lp(),Pp(7,"li",20),PO(8," \u0415\u0441\u043B\u0438 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u043D\u0435 \u0440\u0435\u0448\u0435\u043D\u0430 \u043E\u0431\u0440\u0430\u0442\u0438\u0441\u044C \u0437\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u043E\u0439 \u0432 "),Pp(9,"a",21),PO(10," \u0447\u0430\u0442 "),Lp()()();}if(n&2){let e=MO(4);eO(4),$p(" ",e.notHelpfulText," "),eO(2),$p(" ",e.noAnswerText," "),eO(3),aE("routerLink",HO(3,ue));}}function xe(n,u){n&1&&(jp(0),LI(1,he,11,4,"ul",17),Vp()),n&2&&(eO(),aE("ngSwitchCase",0));}function Ce(n,u){if(n&1&&(Pp(0,"div",9),EE(1,"div",10),Lp(),Pp(2,"div",11),LI(3,de,7,1,"ng-container",12)(4,ge,2,1,"ng-container",12)(5,xe,2,1,"ng-container",12),Lp()),n&2){let e=MO().$implicit;eO(),aE("innerHTML",e.answer,YR),eO(),aE("ngSwitch",e.feedbackStatus),eO(),aE("ngSwitchCase",null),eO(),aE("ngSwitchCase",1),eO(),aE("ngSwitchCase",0);}}function fe(n,u){if(n&1){let e=_O();Pp(0,"y-expansion-panel",4)(1,"y-expansion-panel-header",5),FE("click",function(){let i=FR(e).$implicit,r=MO();return kR(r.toggle(i))}),Pp(2,"y-panel-title")(3,"h3",6),PO(4),Lp()(),Pp(5,"y-icon",7),PO(6),Lp()(),LI(7,Ce,6,5,"ng-template",8),Lp();}if(n&2){let e=u.$implicit,t=MO();aE("expanded",e.expanded),eO(),cE("underlined",t.isSubsection),qI("data-hash",t.selectedItemId===e.id&&t.questionId?t.questionId+"/"+t.selectedItemId:null),eO(3),HE(e.title),eO(2),$p(" ",e.expanded?"minus":"plus"," ");}}var He=(()=>{class n extends p{constructor(){super(...arguments),this.selectedItemId=null,this.questionId=null,this.isSubsection=false,this.isSupportChild=false,this.articles=[],this._ids=[],this._supportService=D(le),this._cdr=D(ui),this._analyticsService=D(M),this.analyticsActions=O,this.analyticsEvents=E,this.noAnswerText="\u041D\u0435\u0442 \u043E\u0442\u0432\u0435\u0442\u0430 \u043D\u0430 \u0432\u043E\u043F\u0440\u043E\u0441",this.notHelpfulText="\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438 \u043D\u0435 \u043F\u043E\u043C\u043E\u0433\u043B\u0438",this.changeArticleId=new at,this.itemToggled=new at;}set items(e){let t=e.map(i=>w$1({expanded:false,feedbackStatus:null},i));this.articles=t;}onChangeArticleId(e){this.changeArticleId.emit(e);}ngOnChanges(e){if(e.selectedItemId){let t=this.articles.find(i=>i.id===this.selectedItemId);t&&(t.id&&this._ids.push(t.id),t.expanded=true);}}ngOnInit(){this.articles.map(e=>e.expanded=e.id===this.selectedItemId);}toggle(e){let t=this.questionTitle?`${this.questionTitle} / ${e.title}`:`${e.title}`;if(!e.expanded)this.onChangeArticleId(e.id),e.id&&this._ids.push(e.id),this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:t},O.SUPPORT_OPEN_ACCORDION);else {this._ids=this._ids.filter(r=>r!==e.id);let i=this._ids.length?this._ids[this._ids.length-1]:null;this.onChangeArticleId(i),this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:t},O.SUPPORT_CLOSE_ACCORDION);}e.expanded=!e.expanded,this.itemToggled.next(),this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:t,event_name:e.expanded?"openAccordion":"closeAccordion"},O.SUPPORT_TOGGLE_ACCORDION);}sendFeedback(e,t,i){e.id&&(i?this._supportService.setFeedback({articleId:e.id,isUseful:0,answer:i}).pipe(Hu(this._onDestroy$)).subscribe(r=>{e.feedbackStatus=1,this._cdr.markForCheck();}):this._supportService.setFeedback({articleId:e.id,isUseful:t}).pipe(Hu(this._onDestroy$)).subscribe(r=>{e.feedbackStatus=t,this._cdr.markForCheck();let A=this.questionTitle?`${this.questionTitle} / ${e.title}`:`${e.title}`;this._analyticsService.pushDataLayer({event:E.ACTIONS,event_param:`${A} / ${t===0?"\u041D\u0435\u0442":"\u0414\u0430"}`},O.CLICK_SUPPORT_FEEDBACK);}));}static{this.\u0275fac=(()=>{let e;return function(i){return (e||(e=jR(n)))(i||n)}})();}static{this.\u0275cmp=hO({type:n,selectors:[["yota-article-answers"]],inputs:{selectedItemId:"selectedItemId",questionTitle:"questionTitle",questionId:"questionId",isSubsection:"isSubsection",items:"items",isSupportChild:"isSupportChild"},outputs:{changeArticleId:"changeArticleId",itemToggled:"itemToggled"},features:[MI,qo],decls:4,vars:3,consts:[[1,"article-answers"],[1,"article-answers__wrapper"],[1,"article-answers__accordion",3,"multi","hideToggle"],["class","article-answers__accordion-panel",3,"expanded",4,"ngFor","ngForOf"],[1,"article-answers__accordion-panel",3,"expanded"],[1,"article-answers__accordion-header",3,"click"],[1,"g-title"],[1,"article-answers__accordion-header_icon"],["yExpansionPanelContent",""],[1,"article-answers__accordion-content"],[1,"article-answers__accordion-answer",3,"innerHTML"],[1,"article-answers__feedback","g-title",3,"ngSwitch"],[4,"ngSwitchCase"],["class","article-answers__feedback-message",4,"ngSwitchCase"],[1,"article-answers__feedback-btns"],["y-button","",1,"article-answers__feedback-btn",3,"click"],[1,"article-answers__feedback-message"],["class","article-answers__feedback-negative",4,"ngSwitchCase"],[1,"article-answers__feedback-negative"],[1,"article-answers__feedback-negative-item","y-link-pseudo","g-text_tight",3,"click"],[1,"article-answers__feedback-negative-item","g-text_tight"],["fragment","chat",1,"g-gradient-link",3,"routerLink"]],template:function(t,i){t&1&&(Pp(0,"div",0)(1,"div",1)(2,"y-accordion",2),LI(3,fe,8,6,"y-expansion-panel",3),Lp()()()),t&2&&(eO(2),aE("multi",true)("hideToggle",true),eO(),aE("ngForOf",i.articles));},dependencies:[tu,Yw,Ih,jo,Hn,Wy,Sm,Dm,zt,Cm,cn,qy],styles:["[_nghost-%COMP%]   .article-answers[_ngcontent-%COMP%]   .y-expansion-panel-header[_ngcontent-%COMP%]{padding:25px 24px}[_nghost-%COMP%]   .article-answers[_ngcontent-%COMP%]   .y-accordion[_ngcontent-%COMP%]   .y-expansion-panel[_ngcontent-%COMP%]{border-radius:20px}[_nghost-%COMP%]   .article-answers[_ngcontent-%COMP%]     .y-expansion-panel-body{padding:0 24px 24px}[_nghost-%COMP%]   .article-answers__accordion-panel[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]   .article-answers__accordion-panel[_ngcontent-%COMP%]:not(:last-child){margin-bottom:16px}[_nghost-%COMP%]   .article-answers__accordion-header[_ngcontent-%COMP%]     .y-content{align-items:center}[_nghost-%COMP%]   .article-answers__accordion-header_icon[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#00aeef}[_nghost-%COMP%]   .article-answers__accordion-header.underlined[_ngcontent-%COMP%]{border-bottom:1px solid rgba(171,186,200,.3019607843);border-radius:0}[_nghost-%COMP%]   .article-answers__accordion-content[_ngcontent-%COMP%]{padding-block:32px;border-top:1px solid rgba(171,186,200,.3);border-bottom:1px solid rgba(171,186,200,.3)}[_nghost-%COMP%]   .article-answers__feedback[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px;margin-top:32px}[_nghost-%COMP%]   .article-answers__feedback-btns[_ngcontent-%COMP%]{display:flex;gap:12px}[_nghost-%COMP%]   .article-answers__feedback-btn[_ngcontent-%COMP%]{padding-inline:32px;text-transform:none;min-height:40px}[_nghost-%COMP%]   .article-answers__feedback-negative[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   .article-answers__feedback-negative-item[_ngcontent-%COMP%]{width:fit-content}[_nghost-%COMP%]   .article-answers__feedback-negative-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:16px}@media (max-width: 992px){[_nghost-%COMP%]   .article-answers__feedback[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-top:24px;gap:24px}}"],changeDetection:0});}}return n})();export{He as H,le as l};