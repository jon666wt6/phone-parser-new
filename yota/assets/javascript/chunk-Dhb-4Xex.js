import {D,U as Ue,dO as xo,aj as dr,ai as i$1,be as ru,bf as lc,bv as _k,Q as p,aP as R}from'./main-4LN5YMRF.js';var g=(()=>{class i{constructor(){this._renderPortletService=D(Ue),this._rendererFactory=D(xo),this._document=D(dr),this._window=D(i$1),this._isBrowser=ru(D(lc)),this._frameResizerScriptId="frame_resizer_yota",this._rootClass="has-one-portlet",this._renderer=this._rendererFactory.createRenderer(null,null);}tryAddScript(r=false,e){if(!this._isScriptCouldAdd()||this.getScriptElement())return;(r||this._renderPortletService.portletsCount===1)&&this._renderer.addClass(this._document.documentElement,e||this._rootClass);let s=this._renderer.createElement("script");this._renderer.setProperty(s,"id",this._frameResizerScriptId),this._renderer.setProperty(s,"src","https://static.yota.ru/upload/public/js/iframeResizer.contentWindow.min.js"),this._renderer.appendChild(this._document.head,s);}removeScript(r){try{let e=this.getScriptElement();if(!e)return;this._renderer.removeChild(this._document.head,e),this._renderer.removeClass(this._document.documentElement,r||this._rootClass);}catch(e){_k.error("Failed to remove frame resizer script:",e);}}resize(){this.isScriptEnable()&&this._window.parentIFrame?.size();}isScriptEnable(){return this._isScriptCouldAdd()&&!!this._window.parentIFrame}getScriptElement(){return this._document.head.querySelector(`[id='${this._frameResizerScriptId}']`)}getParentHeight(r){let e=this._document.body.clientHeight;if(!this.isScriptEnable()){r(e);return}this._window.parentIFrame?.getPageInfo(s=>{r(s?.clientHeight||e);});}_isScriptCouldAdd(){return this._isBrowser&&p.isIframe()}static{this.\u0275fac=function(e){return new(e||i)};}static{this.\u0275prov=R({token:i,factory:i.\u0275fac,providedIn:"root"});}}return i})();
export{g};